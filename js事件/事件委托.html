<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div>
		<ul id="bubble">
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
		</ul>
	</div>

	<div style="height:100px;width:100px;background:red" id="dom1">DOM 0</div>
	<div style="height:100px;width:100px;background:blue" id="dom2">DOM 2</div>
	<div style="height:100px;width:100px;background:yellow" id="ie">IE小婊砸</div>
<div onclick="showMsg(this,event)" id="outSide" style="width:100px; height:100px; background:#000; padding:50px">
<div onclick="showMsg(this,event)" id="inSide" style="width:100px; height:100px; background:#CCC"></div>
</div>

	<script type="text/javascript">
		var dom1 = document.getElementById('dom1');
		var dom2 = document.getElementById('dom2');
		var ie = document.getElementById("ie");
		window.onload = function() {
			var bubble = document.getElementById("bubble");
			var lis = bubble.getElementsByTagName("li");

			bubble.onmouseover = function(ev) {
				var ev = ev || window.event;
				var target = ev.target || ev.srcElement;

				if(target.nodeName.toLowerCase() == "li") {
					target.style.background = "blue";
				}
			};

			bubble.onmouseout = function(ev) {
				var ev = ev || window.event;
				var target = ev.target || ev.srcElement;

				if(target.nodeName.toLowerCase() == "li"){
					target.style.background = "";
				}
			}
		}
		function showMsg(obj,e) {
			alert(obj.id);
			stopBubble(e);	
		}
		function stopBubble(e) {
			if(e && e.stopPropagation) {
				e.stopPropagation();
			}
			else window.event.cancleBubble = true;
		}
		dom1.onclick = function() { //dom 0级的事件处理
			alert('Dom 0');
		};
		dom2.addEventListener("click",function() {
			alert(this.id);
		},false);
		ie.attachEvent('onclick',function() {
			console.log(this.id);
		})
	</script>
</body>
</html>
